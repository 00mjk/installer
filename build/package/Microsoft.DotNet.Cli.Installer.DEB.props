<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- dotnet deb-tool -->
  <PropertyGroup>
    <DotnetDebToolPackageId>dotnet-deb-tool</DotnetDebToolPackageId>  
    <DotnetDebToolVersion Condition=" '$(DotnetDebToolVersion)' == '' ">1.0.0-*</DotnetDebToolVersion>
    <DotnetDebToolConsumerProjectName>dotnet-deb-tool-consumer</DotnetDebToolConsumerProjectName>
    <DotnetDebToolDir>$(IntermediateDirectory)/$(DotnetDebToolConsumerProjectName)</DotnetDebToolDir>
    <DotnetDebToolPackageSource Condition=" '$(DotnetDebToolPackageSource)' == '' "></DotnetDebToolPackageSource>
  </PropertyGroup>  

  <ItemGroup>
    <DotnetDebToolProjectJsonLines Include="{" />
    <DotnetDebToolProjectJsonLines Include="%20%20%20%20&quot;version&quot;: &quot;1.0.0-*&quot;," />
    <DotnetDebToolProjectJsonLines Include="%20%20%20%20&quot;name&quot;: &quot;$(DotnetDebToolConsumerProjectName)&quot;," />
    <DotnetDebToolProjectJsonLines Include="%20%20%20%20&quot;frameworks&quot;: { &quot;netcoreapp1.0&quot;: {} }," />
    <DotnetDebToolProjectJsonLines Include="%20%20%20%20&quot;tools&quot;: {&quot;$(DotnetDebToolPackageId)&quot;: &quot;$(DotnetDebToolVersion)&quot; }" />
    <DotnetDebToolProjectJsonLines Include="}" />
  </ItemGroup>

  <!-- constants -->
  <PropertyGroup>
    <DebianInstalledDirectory>/usr/share/dotnet</DebianInstalledDirectory>

    <DebLayoutPackageRootDirName>package_root</DebLayoutPackageRootDirName>
    <DebLayoutAbsolutePlacementDirName>$</DebLayoutAbsolutePlacementDirName>
    <DebLayoutSamplesDirName>samples</DebLayoutSamplesDirName>
    <DebLayoutDocsDirName>docs</DebLayoutDocsDirName>
    <DebLayoutDebianFilesDirName>debian</DebLayoutDebianFilesDirName>
  </PropertyGroup>

  <!-- Package Identities -->
  <PropertyGroup>
    <SdkDebianPackageVersion>$(SdkVersion)</SdkDebianPackageVersion>
    <SdkDebianPackageName>dotnet-dev-$(SdkDebianPackageVersion)</SdkDebianPackageName>
    <SharedFrameworkDebianPackageVersion>$(SharedFrameworkVersion)</SharedFrameworkDebianPackageVersion>
    <SharedFrameworkDebianPackageName>dotnet-sharedframework-$(SharedFrameworkName)-$(SharedFrameworkDebianPackageVersion)</SharedFrameworkDebianPackageName>
    <SharedFrameworkDebianPackageName>$(SharedFrameworkDebianPackageName.ToLower())</SharedFrameworkDebianPackageName>
    <HostFxrDebianPackageVersion>$(HostFxrVersion)</HostFxrDebianPackageVersion>
    <HostFxrDebianPackageName>dotnet-hostfxr-$(HostFxrDebianPackageVersion)</HostFxrDebianPackageName>
    <HostFxrDebianPackageName>$(HostFxrDebianPackageName.ToLower())</HostFxrDebianPackageName>
    <SharedHostDebianPackageName>dotnet-host</SharedHostDebianPackageName>
  </PropertyGroup>

  <!-- Inputs -->
  <PropertyGroup>
    <ManpagesDirectory>$(RepoRoot)/Documentation/manpages</ManpagesDirectory>
    <EndToEndTestDirectory>$(RepoRoot)/test/EndToEnd</EndToEndTestDirectory>
  </PropertyGroup>

  <ItemGroup>
    <SdkDebInputFiles Include="$(CliSdkRoot)/**/*" />
    <SdkDebManPageFiles Include="$(ManpagesDirectory)/**/*" />
  </ItemGroup>

  <!-- Output Directories -->
  <PropertyGroup>
    <InstallerOutputDirectory>$(PackagesDirectory)</InstallerOutputDirectory>
    <SdkInstallerFile>$(InstallerOutputDirectory)/$(ArtifactNameWithVersionSdk)$(InstallerExtension)</SdkInstallerFile>

    <SdkDebianIntermediateDirectory>$(IntermediateDirectory)/debian/sdk</SdkDebianIntermediateDirectory>
    <DotNetDebToolOutputDirectory>$(SdkDebianIntermediateDirectory)/deb-tool-output</DotNetDebToolOutputDirectory>
    <DebianTestResultsXmlFile>$(SdkDebianIntermediateDirectory)/debian-testResults.xml</DebianTestResultsXmlFile>
  </PropertyGroup>

  <!-- Layout Directories -->
  <PropertyGroup>
    <SdkDebianLayoutOutputDirectory>$(SdkDebianIntermediateDirectory)/debianLayoutDirectory</SdkDebianLayoutOutputDirectory>
    <DebLayoutPackageRootDir>$(SdkDebianLayoutOutputDirectory)/$(DebLayoutPackageRootDirName)</DebLayoutPackageRootDir>
    <DebLayoutAbsolutePlacementDir>$(SdkDebianLayoutOutputDirectory)/$(DebLayoutAbsolutePlacementDirName)</DebLayoutAbsolutePlacementDir>
    <DebLayoutSamplesDir>$(SdkDebianLayoutOutputDirectory)/$(DebLayoutSamplesDirName)</DebLayoutSamplesDir>
    <DebLayoutDocsDir>$(SdkDebianLayoutOutputDirectory)/$(DebLayoutDocsDirName)</DebLayoutDocsDir>
    <DebLayoutDebianFilesDir>$(SdkDebianLayoutOutputDirectory)/$(DebLayoutDebianFilesDirName)</DebLayoutDebianFilesDir>
  </PropertyGroup>

  <!-- debian_config.json -->
  <PropertyGroup>
    <DebianConfigTemplateFileName>dotnet-debian_config.json</DebianConfigTemplateFileName>
    <DebianConfigTemplateFile>$(RepoRoot)/packaging/deb/$(DebianConfigTemplateFileName)</DebianConfigTemplateFile>
    <DebianConfigJsonFileName>debian_config.json</DebianConfigJsonFileName>
    <DebianConfigJsonFile>$(SdkDebianLayoutOutputDirectory)/$(DebianConfigJsonFileName)</DebianConfigJsonFile>
  </PropertyGroup>

  <ItemGroup>
    <SdkDebianPackageTemplateReplacement Include="%SHARED_FRAMEWORK_DEBIAN_PACKAGE_NAME%">
      <ReplacementString>$(SharedFrameworkDebianPackageName)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
    <SdkDebianPackageTemplateReplacement Include="%SHARED_FRAMEWORK_NUGET_NAME%">
      <ReplacementString>$(SharedFrameworkName)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
    <SdkDebianPackageTemplateReplacement Include="%SHARED_FRAMEWORK_NUGET_VERSION%">
      <ReplacementString>$(SharedFrameworkVersion)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
    <SdkDebianPackageTemplateReplacement Include="%SHARED_FRAMEWORK_BRAND_NAME%">
      <ReplacementString>$(SharedFrameworkBrandName)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
    <SdkDebianPackageTemplateReplacement Include="%SDK_NUGET_VERSION%">
      <ReplacementString>$(SdkVersion)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
    <SdkDebianPackageTemplateReplacement Include="%CLI_SDK_BRAND_NAME%">
      <ReplacementString>$(SdkBrandName)</ReplacementString>
    </SdkDebianPackageTemplateReplacement>
  </ItemGroup>

  <ItemGroup>
    <TestSdkDebTaskEnvironmentVariables Include="PATH=$(DebianInstalledDirectory)$(PathListSeparator)$(PATH)" />

    <!-- Consumed By Publish -->
    <GeneratedInstallers Include="$(SdkInstallerFile)" />
  </ItemGroup>
</Project>
