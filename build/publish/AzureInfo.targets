<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Condition="'$(GeneratePropsFile)' != 'true'"  Project="$(NuGetPackagesDir)/microsoft.dotnet.build.tasks.feed/$(BuildTasksFeedToolVersion)/build/Microsoft.DotNet.Build.Tasks.Feed.targets" />
          
  <Target Name="SetAzureProps"
          Condition=" '$(IsOrchestratedPublish)' == 'True' And '$(PB_PublishBlobFeedUrl)' != '' ">

    <ParseBlobUrl BlobUrl="$(PB_PublishBlobFeedUrl)">
      <Output TaskParameter="BlobElements" ItemName="BlobElements" />
    </ParseBlobUrl>

    <PropertyGroup>
      <ArtifactContainerName>%(BlobElements.ContainerName)</ArtifactContainerName>
      <ChecksumContainerName>%(BlobElements.ContainerName)</ChecksumContainerName>
      <ArtifactCloudDropAccountName>%(BlobElements.AccountName)</ArtifactCloudDropAccountName>
      <ChecksumCloudDropAccountName>%(BlobElements.AccountName)</ChecksumCloudDropAccountName>
      <BlobStoragePartialRelativePath>%(BlobElements.BlobPath)/assets</BlobStoragePartialRelativePath>
    </PropertyGroup>
  </Target>
    
</Project>
