<Project ToolsVersion="15.0">
  <Target Name="WriteDynamicPropsToStaticPropsFiles"
          DependsOnTargets="BuildDotnetCliBuildFramework;
                            EnsureGeneratedPropsDirectory;
                            WriteGitCommitInfoProps;
                            WriteHostInfoProps"/>

  <Target Name="EnsureGeneratedPropsDirectory">
    <MakeDir Condition=" !Exists('$(GeneratedPropsDir)') "
             Directories="$(GeneratedPropsDir)" />
  </Target>

  <Target Name="BuildTheWholeCli" DependsOnTargets="$(CLITargets)" />

  <Import Project="Microsoft.DotNet.Cli.GitCommitInfo.targets" />
  <Import Project="Microsoft.DotNet.Cli.HostInfo.targets" />
  <Import Project="Microsoft.DotNet.Cli.Prepare.targets" />
  <Import Project="Microsoft.DotNet.Cli.Compile.targets" />
  <Import Project="Microsoft.DotNet.Cli.Package.targets" />
  <Import Project="Microsoft.DotNet.Cli.Test.targets" />
  <Import Project="Microsoft.DotNet.Cli.Publish.targets" />
  <Import Project="Microsoft.DotNet.Cli.Run.targets" />
</Project>
